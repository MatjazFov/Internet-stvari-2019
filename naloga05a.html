<!DOCTYPE html>
<meta charset = utf8>
<html>

<head>
    <title>Primer s tipko</title>
</head>
<canvas id="mojePlatno" width="500" height="350" style="border:1px solid #d3d3d3";></canvas>
<divZaIzpis>


<divZaIzpis></divZaIzpis>

</script>

<body>

<div id="divZaIzpis"></div>

<br>

<script type="text/javascript" src="/socket.io/socket.io.js"></script>

<script type="text/javascript">
"use strict"; // za uporabo razredov ("class")

//naslednji dve vrstici sta "boilerplate code";
//v nadaljevanju za delo =  platnom uporabljamo spr. ctx
var canvas = document.getElementById("mojePlatno");
var ctx = canvas.getContext("2d");

ctx.fillStyle = "#00ff00"; // določimo barvo
ctx.fillRect(0, 0, canvas.width, canvas.height); // x zg.1, y zg. 1. , širina, višina
var divZaIzpis = document.getElementById("divZaIzpis");
// spremenljivka za izpis sporočil

function log(sporočilo) {
    return "<div>" + sporočilo + "</div>";
}

divZaIzpis.innerHTML += log("Pritisnite tipko na vezju");

var socket = io.connect("192.168.1.223:8080"); // povezava preko vtičnika

socket.on("sporočiloKlientu", function (sporočilo){
    //divZaIzpis.innerHTML += log(sporočilo); // dodamo sporočilo
    
    if (sporočilo == "stop") {
    ctx.fillStyle = "#00ff00"; // določimo barvo
    ctx.fillRect(0, 0, canvas.width, canvas.height); // x zg.1, y zg. 1. , širina, višina
    ctx.textAlign = "center"
    ctx.fillStyle = "#FFFFFF"; // določimo barvo
    ctx.font = "120px Arial";
    ctx.fillText("stop", 200, 120);
    divZaIzpis.innerHTML += log(sporočilo); // dodamo sporočilo
    
    } 
    if (sporočilo == "desno") {
    ctx.fillStyle = "#ff0000"; // določimo barvo
    ctx.fillRect(0, 0, canvas.width, canvas.height); // x zg.1, y zg. 1. , širina, višina
    ctx.textAlign = "center"
    ctx.fillStyle = "#FFFFFF";
    ctx.fillStyle = "#FFFFFF"; // določimo barvo
    ctx.font = "120px Arial";
    ctx.fillText("desno", 200, 120);
    divZaIzpis.innerHTML += log(sporočilo); // dodamo sporočilo
}
    if (sporočilo == "levo") {
    ctx.fillStyle = "#0000ff"; // določimo barvo
    ctx.fillRect(0, 0, canvas.width, canvas.height); // x zg.1, y zg. 1. , širina, višina
    ctx.textAlign = "center"
    ctx.fillStyle = "#FFFFFF";
    ctx.fillStyle = "#FFFFFF"; // določimo barvo
    ctx.font = "120px Arial";
    ctx.fillText("levo", 200, 120);
    divZaIzpis.innerHTML += log(sporočilo); // dodamo sporočilo
}
});

</script>

    
</body>
    
</html>